[CONTEXTO DO PROJETO ATUAL - ERP AGENT MVP]

Estou desenvolvendo um sistema ERP/CRM usando React (Vite) e FastAPI (SQLModel/Postgres).
Abaixo está a documentação técnica do estado atual. Use isso para continuar o desenvolvimento sem quebrar as regras existentes.

### 1. Estrutura do Banco de Dados (SQLModel)

* **Role:** `id`, `name`, `slug` (admin, manager, sales), `permissions` (JSON).
* **User:** `id`, `name`, `email`, `role_id`, `password_hash`.
    * *Relacionamento:* `supervisors` (Muitos-para-Muitos via `UserSupervisor`).
* **UserSupervisor:** Tabela de ligação (`user_id`, `supervisor_id`).
* **Customer:** `id`, `name`, `document`, `status` (ativo/inativo/pendente), `salesperson_id` (Dono), `created_by_id`.
* **CustomerNote (Timeline):** `id`, `content`, `type` (message/task), `task_status` (pending/in_progress/done), `target_user_id` (Destinatário), `read_at`, `started_at`, `completed_at`.
* **FeedItem:** `id`, `content`, `icon`, `user_id`, `visibility` (public/admin_manager), `related_customer_id`.
* **Notification:** `id`, `user_id`, `content`, `is_read`, `link`, `related_note_id`.

### 2. Regras de Negócio Críticas (JÁ IMPLEMENTADAS)

1.  **Hierarquia e Supervisão:**
    * Existe uma Matriz de Supervisão (tabela `UserSupervisor`).
    * Admin/Gerente vê tudo ou quem monitora.
    * Vendedores veem apenas sua carteira (salvo se forem supervisores de alguém).

2.  **Workflow de Clientes:**
    * **Permissão:** Se `role.permissions.customer_require_approval` for True (Vendedores), o cliente nasce com `status='pendente'`.
    * **Notificação:** Ao criar cliente pendente, o sistema notifica automaticamente os supervisores desse usuário.
    * **Edição:** Vendedores não podem alterar o Status manualmente (bloqueio no Backend e Frontend).

3.  **Timeline e Tarefas (Bitrix Style):**
    * Notas podem ser Mensagens ou Tarefas.
    * Tarefas têm ciclo: Play (Start) -> Check (Finish).
    * Menções (`@usuario`) geram Notificações (`Notification`).
    * Menção `@todos` joga o item no Feed com visibilidade `public`.

4.  **Feed de Atividades:**
    * **Privacidade:** Ações de rotina (criar cliente, editar) de vendedores têm `visibility='admin_manager'` (outros vendedores não veem).
    * **Filtros:** O backend suporta filtro por `user_id`, `start_date`, `end_date`.

### 3. Frontend (React)
* **UX:** Navegação separada em Lista/Formulário (UserList/UserForm, CustomerList/CustomerForm).
* **Polling:** O `Layout.tsx` busca notificações a cada 15s.
* **Components:**
    * `CustomerForm.tsx`: Lógica complexa de menção (@), bloqueio de campos por permissão e timeline.
    * `UserForm.tsx`: Gestão de checkboxes para definir supervisores.

### 4. Objetivo da Sessão Atual:
(Descreva aqui o que você quer fazer agora...)